INFO:     Will watch for changes in these directories: ['/Users/max/Downloads/JSON-Chunking/src']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [42644] using WatchFiles
üöÄ Starting IFC JSON Chunking API Server
üìç Host: 0.0.0.0
üîå Port: 8000
üêõ Debug Mode: True
üìä API Docs: http://localhost:8000/api/docs
üìö ReDoc: http://localhost:8000/api/redoc

‚ö†Ô∏è  Warning: GEMINI_API_KEY not set in .env file
   Add your Gemini API key to .env for query processing functionality

‚ö†Ô∏è  Demo data not found - upload functionality will still work

/Users/max/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/max/Library/Python/3.9/lib/python/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-07-26 09:56:23 [debug    ] Metric registered              description=Total number of requests name=requests_total unit=count
2025-07-26 09:56:23 [debug    ] Metric registered              description=Request duration name=requests_duration_seconds unit=seconds
2025-07-26 09:56:23 [debug    ] Metric registered              description=Total number of request errors name=requests_errors_total unit=count
2025-07-26 09:56:23 [debug    ] Metric registered              description=CPU usage percentage name=system_cpu_percent unit=percent
2025-07-26 09:56:23 [debug    ] Metric registered              description=Memory usage in bytes name=system_memory_bytes unit=bytes
2025-07-26 09:56:23 [debug    ] Metric registered              description=Memory usage percentage name=system_memory_percent unit=percent
2025-07-26 09:56:23 [debug    ] Metric registered              description=Disk usage in bytes name=system_disk_usage_bytes unit=bytes
2025-07-26 09:56:23 [debug    ] Metric registered              description=Query processing duration name=query_processing_duration unit=seconds
2025-07-26 09:56:23 [debug    ] Metric registered              description=Chunk processing duration name=chunk_processing_duration unit=seconds
2025-07-26 09:56:23 [debug    ] Metric registered              description=Cache hit rate name=cache_hit_rate unit=ratio
2025-07-26 09:56:23 [debug    ] Metric registered              description=Number of active connections name=active_connections unit=count
2025-07-26 09:56:23 [info     ] Standard metrics initialized
2025-07-26 09:56:23 [info     ] Metrics collection started     interval=30
2025-07-26 09:56:23 [info     ] Metrics collection thread started
2025-07-26 09:56:23 [info     ] Redis cache initialized        host=localhost max_connections=50 port=6379
INFO:     Started server process [42655]
INFO:     Waiting for application startup.
2025-07-26 09:56:23 [info     ] Starting IFC JSON Chunking API version=0.1.0
2025-07-26 09:56:23 [error    ] Redis connection failed        error=Error 61 connecting to localhost:6379. 61.
2025-07-26 09:56:23 [info     ] Memory tracing enabled
2025-07-26 09:56:23 [info     ] Memory monitoring worker started
2025-07-26 09:56:23 [info     ] Memory monitoring started      critical_threshold=1000 interval=60 warning_threshold=800
2025-07-26 09:56:23 [info     ] Performance monitoring initialized successfully
INFO:     Application startup complete.
2025-07-26 09:56:24 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:56:24 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:56:24 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 09:56:55 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:56:55 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:56:55 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 09:57:26 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:57:26 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:57:26 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 09:57:57 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:57:57 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:57:57 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 09:58:28 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:58:28 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:58:28 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 09:58:59 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:58:59 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:58:59 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 09:59:30 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 09:59:30 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 09:59:30 [warning  ] Attempt to record unknown metric name=process_cpu_percent
WARNING:  WatchFiles detected changes in 'test_demo_endpoints.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-26 10:00:01 [info     ] Shutting down IFC JSON Chunking API
2025-07-26 10:00:01 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:00:01 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:00:01 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:00:06 [info     ] Memory monitoring stopped
2025-07-26 10:00:06 [info     ] Memory tracing disabled
2025-07-26 10:00:11 [info     ] Metrics collection stopped
2025-07-26 10:00:11 [info     ] Redis cache disconnected
2025-07-26 10:00:11 [info     ] Performance monitoring cleanup complete
INFO:     Application shutdown complete.
INFO:     Finished server process [42655]
/Users/max/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/max/Library/Python/3.9/lib/python/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-07-26 10:00:12 [debug    ] Metric registered              description=Total number of requests name=requests_total unit=count
2025-07-26 10:00:12 [debug    ] Metric registered              description=Request duration name=requests_duration_seconds unit=seconds
2025-07-26 10:00:12 [debug    ] Metric registered              description=Total number of request errors name=requests_errors_total unit=count
2025-07-26 10:00:12 [debug    ] Metric registered              description=CPU usage percentage name=system_cpu_percent unit=percent
2025-07-26 10:00:12 [debug    ] Metric registered              description=Memory usage in bytes name=system_memory_bytes unit=bytes
2025-07-26 10:00:12 [debug    ] Metric registered              description=Memory usage percentage name=system_memory_percent unit=percent
2025-07-26 10:00:12 [debug    ] Metric registered              description=Disk usage in bytes name=system_disk_usage_bytes unit=bytes
2025-07-26 10:00:12 [debug    ] Metric registered              description=Query processing duration name=query_processing_duration unit=seconds
2025-07-26 10:00:12 [debug    ] Metric registered              description=Chunk processing duration name=chunk_processing_duration unit=seconds
2025-07-26 10:00:12 [debug    ] Metric registered              description=Cache hit rate name=cache_hit_rate unit=ratio
2025-07-26 10:00:12 [debug    ] Metric registered              description=Number of active connections name=active_connections unit=count
2025-07-26 10:00:12 [info     ] Standard metrics initialized
2025-07-26 10:00:12 [info     ] Metrics collection started     interval=30
2025-07-26 10:00:12 [info     ] Metrics collection thread started
2025-07-26 10:00:12 [info     ] Redis cache initialized        host=localhost max_connections=50 port=6379
INFO:     Started server process [43620]
INFO:     Waiting for application startup.
2025-07-26 10:00:12 [info     ] Starting IFC JSON Chunking API version=0.1.0
2025-07-26 10:00:12 [error    ] Redis connection failed        error=Error 61 connecting to localhost:6379. 61.
2025-07-26 10:00:12 [info     ] Memory tracing enabled
2025-07-26 10:00:12 [info     ] Memory monitoring worker started
2025-07-26 10:00:12 [info     ] Memory monitoring started      critical_threshold=1000 interval=60 warning_threshold=800
2025-07-26 10:00:12 [info     ] Performance monitoring initialized successfully
INFO:     Application startup complete.
2025-07-26 10:00:13 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:00:13 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:00:13 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:00:44 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:00:44 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:00:44 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:01:15 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:01:15 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:01:15 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:01:46 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:01:46 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:01:46 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:02:17 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:02:17 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:02:17 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:02:48 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:02:48 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:02:48 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:03:19 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:03:19 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:03:19 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:03:50 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:03:50 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:03:50 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:04:21 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:04:21 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:04:21 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:04:52 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:04:52 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:04:52 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:05:23 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:05:23 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:05:23 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:05:54 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:05:54 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:05:54 [warning  ] Attempt to record unknown metric name=process_cpu_percent
WARNING:  WatchFiles detected changes in 'test_full_stack.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-26 10:05:57 [info     ] Shutting down IFC JSON Chunking API
2025-07-26 10:06:02 [info     ] Memory monitoring stopped
2025-07-26 10:06:02 [info     ] Memory tracing disabled
2025-07-26 10:06:07 [info     ] Metrics collection stopped
2025-07-26 10:06:07 [info     ] Redis cache disconnected
2025-07-26 10:06:07 [info     ] Performance monitoring cleanup complete
INFO:     Application shutdown complete.
INFO:     Finished server process [43620]
/Users/max/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
/Users/max/Library/Python/3.9/lib/python/site-packages/pydantic/_internal/_config.py:373: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2025-07-26 10:06:09 [debug    ] Metric registered              description=Total number of requests name=requests_total unit=count
2025-07-26 10:06:09 [debug    ] Metric registered              description=Request duration name=requests_duration_seconds unit=seconds
2025-07-26 10:06:09 [debug    ] Metric registered              description=Total number of request errors name=requests_errors_total unit=count
2025-07-26 10:06:09 [debug    ] Metric registered              description=CPU usage percentage name=system_cpu_percent unit=percent
2025-07-26 10:06:09 [debug    ] Metric registered              description=Memory usage in bytes name=system_memory_bytes unit=bytes
2025-07-26 10:06:09 [debug    ] Metric registered              description=Memory usage percentage name=system_memory_percent unit=percent
2025-07-26 10:06:09 [debug    ] Metric registered              description=Disk usage in bytes name=system_disk_usage_bytes unit=bytes
2025-07-26 10:06:09 [debug    ] Metric registered              description=Query processing duration name=query_processing_duration unit=seconds
2025-07-26 10:06:09 [debug    ] Metric registered              description=Chunk processing duration name=chunk_processing_duration unit=seconds
2025-07-26 10:06:09 [debug    ] Metric registered              description=Cache hit rate name=cache_hit_rate unit=ratio
2025-07-26 10:06:09 [debug    ] Metric registered              description=Number of active connections name=active_connections unit=count
2025-07-26 10:06:09 [info     ] Standard metrics initialized
2025-07-26 10:06:09 [info     ] Metrics collection started     interval=30
2025-07-26 10:06:09 [info     ] Metrics collection thread started
2025-07-26 10:06:09 [info     ] Redis cache initialized        host=localhost max_connections=50 port=6379
INFO:     Started server process [44439]
INFO:     Waiting for application startup.
2025-07-26 10:06:09 [info     ] Starting IFC JSON Chunking API version=0.1.0
2025-07-26 10:06:09 [error    ] Redis connection failed        error=Error 61 connecting to localhost:6379. 61.
2025-07-26 10:06:09 [info     ] Memory tracing enabled
2025-07-26 10:06:09 [info     ] Memory monitoring worker started
2025-07-26 10:06:09 [info     ] Memory monitoring started      critical_threshold=1000 interval=60 warning_threshold=800
2025-07-26 10:06:09 [info     ] Performance monitoring initialized successfully
INFO:     Application startup complete.
2025-07-26 10:06:10 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:06:10 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:06:10 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:06:41 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:06:41 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:06:41 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:07:12 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:07:12 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:07:12 [warning  ] Attempt to record unknown metric name=process_cpu_percent
2025-07-26 10:07:43 [warning  ] Attempt to record unknown metric name=system_disk_usage_percent
2025-07-26 10:07:43 [warning  ] Attempt to record unknown metric name=process_memory_bytes
2025-07-26 10:07:43 [warning  ] Attempt to record unknown metric name=process_cpu_percent
